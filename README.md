# Космический Телеграм

Телеграмм бот, для публикации фотографий космоса в телеграмм канал.

### Настройка

Часть настроек берется из переменных окружения. Создайте файл `.env` рядом с `telegram_bot.py`и запишите туда значение в формате: `ПЕРЕМЕННАЯ=значение`.

* `NASA_API_KEY` — ключ, получаемый на [сайте NASA](https://api.nasa.gov/). Обязательный параметр, значения по умолчанию нет.
Выглядит примерно так: 
```
zKE1M2alv5BkAQwK9adbQLZ6PX2zgHTAfJJohPZE
```
* `TELEGRAM_BOT_TOKEN` — ключ для управления ботом в телеграме, обязательный параметр.
Пример:
```
3426142790:HAFJ8naDhY3pbAFplK6GZarLExxaKaLMGc
```
* `PUBLICATION_FREQUENCY` — частота публикации картинки (в часах), по умолчанию `4`.
* `TELEGRAMM_CHAT_ID` — id чата, в который будут отправлятся сообщения. Пример: `@name`

### Примеры запуска скриптов
Изображения скачиваются в папку `images` и берутся из неё.
* `bot_send_image.py` — отправляет указанную фотографию в чат, если фотография не указана, отправляется случайная. Пример запуска:
```
python bot_send_image.py --image 'images/image.jpg'
```

* `fetch_epic_nasa_images.py` — скачивает изображения [EPIC NASA](https://epic.gsfc.nasa.gov/), имеет опциональный аргумент `--count` (или `-С`), который означает количество скачанных
изображений (По умолчанию `5`, максимум `12`).
```
python fetch_epic_nasa_images.py --count 10
```

* `fetch_nasa_images.py` — скачивает изображения [APOD NASA](https://apod.nasa.gov/apod/astropix.html), также имеет аргумент `--count` (или `-С`), по умолчанию `35`.
```
python fetch_nasa_images.py --count 40
```

* `fetch_spacex_images.py` - скачивает изображения с запусков SPACEX, аргумент `--flight_id` - id запуска, по умолчанию последний запуск.
**Примечание: фотографии делаются не на каждом запуске, поэтому их может не быть. `5eb87d47ffd86e000604b38a` - id запуска с фотографиями.**
```
python fetch_spacex_images.py --flight_id 5eb87d47ffd86e000604b38a
```

* `telegram_bot.py` - скрипт, запускающий беспонечную публикацию изображений из папки `images`. Аргумент `--hour_frequency` - означает раз во сколько часов публикуется
одно изображение. По умолчанию `4`.
```
python telegram_bot.py --hour_frequency 2
```

### Как установить

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
